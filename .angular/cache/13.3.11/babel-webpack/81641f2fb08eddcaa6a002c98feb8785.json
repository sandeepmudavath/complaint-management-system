{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction HeaderComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.notifications);\n  }\n}\n\nfunction HeaderComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵlistener(\"clickOutside\", function HeaderComponent_div_27_Template_div_clickOutside_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.closeUserMenu();\n    });\n    i0.ɵɵelementStart(1, \"div\", 19)(2, \"div\", 20)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 21)(6, \"span\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 23);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(10, \"div\", 24);\n    i0.ɵɵelementStart(11, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_27_Template_a_click_11_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.closeUserMenu();\n    });\n    i0.ɵɵelementStart(12, \"span\", 3);\n    i0.ɵɵtext(13, \"dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" Dashboard \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"a\", 26);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_27_Template_a_click_15_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.closeUserMenu();\n    });\n    i0.ɵɵelementStart(16, \"span\", 3);\n    i0.ɵɵtext(17, \"person\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" Profile Settings \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"a\", 26);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_27_Template_a_click_19_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.closeUserMenu();\n    });\n    i0.ɵɵelementStart(20, \"span\", 3);\n    i0.ɵɵtext(21, \"settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" Account Settings \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"div\", 24);\n    i0.ɵɵelementStart(24, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_27_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.logout();\n    });\n    i0.ɵɵelementStart(25, \"span\", 3);\n    i0.ɵɵtext(26, \"logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \" Sign Out \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.getUserInitials());\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser == null ? null : ctx_r1.currentUser.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser == null ? null : ctx_r1.currentUser.email);\n  }\n}\n\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(authService, router) {\n      this.authService = authService;\n      this.router = router;\n      this.toggleSidebar = new EventEmitter();\n      this.currentUser = null;\n      this.notifications = 3;\n      this.showUserMenu = false;\n    }\n\n    ngOnInit() {\n      this.authService.getAuthState().subscribe(state => {\n        this.currentUser = state.user;\n      });\n    }\n\n    onToggleSidebar() {\n      this.toggleSidebar.emit();\n    }\n\n    toggleUserMenu() {\n      this.showUserMenu = !this.showUserMenu;\n    }\n\n    closeUserMenu() {\n      this.showUserMenu = false;\n    }\n\n    logout() {\n      this.authService.logout();\n      this.router.navigate(['/login']);\n    }\n\n    getUserInitials() {\n      var _a;\n\n      if (!((_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.name)) return 'U';\n      const names = this.currentUser.name.split(' ');\n\n      if (names.length >= 2) {\n        return names[0][0] + names[1][0];\n      }\n\n      return names[0][0];\n    }\n\n    getRoleBadgeClass() {\n      var _a;\n\n      switch ((_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.role) {\n        case 'admin':\n          return 'role-admin';\n\n        case 'agent':\n          return 'role-agent';\n\n        default:\n          return 'role-user';\n      }\n    }\n\n  }\n\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"app-header\"]],\n    outputs: {\n      toggleSidebar: \"toggleSidebar\"\n    },\n    decls: 28,\n    vars: 10,\n    consts: [[1, \"header\"], [1, \"header-left\"], [1, \"menu-toggle\", 3, \"click\"], [1, \"material-icons\"], [1, \"search-box\"], [\"type\", \"text\", \"placeholder\", \"Search complaints...\"], [1, \"header-right\"], [1, \"icon-btn\", \"notification-btn\"], [\"class\", \"badge\", 4, \"ngIf\"], [1, \"user-menu-container\"], [1, \"user-menu\", 3, \"click\"], [1, \"user-avatar\"], [1, \"user-info\"], [1, \"user-name\"], [1, \"user-role\", 3, \"ngClass\"], [1, \"material-icons\", \"dropdown-icon\"], [\"class\", \"dropdown-menu\", 3, \"clickOutside\", 4, \"ngIf\"], [1, \"badge\"], [1, \"dropdown-menu\", 3, \"clickOutside\"], [1, \"dropdown-header\"], [1, \"user-avatar\", \"large\"], [1, \"dropdown-user-info\"], [1, \"dropdown-user-name\"], [1, \"dropdown-user-email\"], [1, \"dropdown-divider\"], [\"routerLink\", \"/dashboard\", 1, \"dropdown-item\", 3, \"click\"], [\"href\", \"#\", 1, \"dropdown-item\", 3, \"click\"], [1, \"dropdown-item\", \"logout\", 3, \"click\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_2_listener() {\n          return ctx.onToggleSidebar();\n        });\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵtext(4, \"menu\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"span\", 3);\n        i0.ɵɵtext(7, \"search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"button\", 7)(11, \"span\", 3);\n        i0.ɵɵtext(12, \"notifications\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, HeaderComponent_span_13_Template, 2, 1, \"span\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 9)(15, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_15_listener() {\n          return ctx.toggleUserMenu();\n        });\n        i0.ɵɵelementStart(16, \"div\", 11)(17, \"span\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 12)(20, \"span\", 13);\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"span\", 14);\n        i0.ɵɵtext(23);\n        i0.ɵɵpipe(24, \"titlecase\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"span\", 15);\n        i0.ɵɵtext(26, \"expand_more\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(27, HeaderComponent_div_27_Template, 28, 3, \"div\", 16);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.notifications > 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.getUserInitials());\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate((ctx.currentUser == null ? null : ctx.currentUser.name) || \"User\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.getRoleBadgeClass());\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(24, 8, ctx.currentUser == null ? null : ctx.currentUser.role), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"open\", ctx.showUserMenu);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showUserMenu);\n      }\n    },\n    directives: [i3.NgIf, i3.NgClass, i2.RouterLinkWithHref],\n    pipes: [i3.TitleCasePipe],\n    styles: [\".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:#ffffff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:100}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.menu-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;background:transparent;border-radius:8px;cursor:pointer;color:#64748b;transition:all .2s}.menu-toggle[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:10px;min-width:300px}.search-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#94a3b8;font-size:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;font-size:14px;color:#1e293b;width:100%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.icon-btn[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:40px;height:40px;border:none;background:transparent;border-radius:8px;cursor:pointer;color:#64748b;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.icon-btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;min-width:18px;height:18px;padding:0 5px;background:#ef4444;color:#fff;font-size:11px;font-weight:600;border-radius:9px;display:flex;align-items:center;justify-content:center}.user-menu-container[_ngcontent-%COMP%]{position:relative}.user-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 12px;border:none;background:transparent;border-radius:10px;cursor:pointer;transition:background .2s}.user-menu[_ngcontent-%COMP%]:hover{background:#f8fafc}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#6366f1 0%,#8b5cf6 100%);display:flex;align-items:center;justify-content:center;color:#fff;font-size:14px;font-weight:600}.user-avatar.large[_ngcontent-%COMP%]{width:48px;height:48px;font-size:16px}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.user-role[_ngcontent-%COMP%]{font-size:11px;font-weight:600;padding:2px 6px;border-radius:4px}.user-role.role-admin[_ngcontent-%COMP%]{background:rgba(239,68,68,.1);color:#ef4444}.user-role.role-agent[_ngcontent-%COMP%]{background:rgba(59,130,246,.1);color:#3b82f6}.user-role.role-user[_ngcontent-%COMP%]{background:rgba(16,185,129,.1);color:#10b981}.dropdown-icon[_ngcontent-%COMP%]{color:#94a3b8;font-size:20px;transition:transform .2s}.dropdown-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;min-width:280px;background:white;border-radius:16px;box-shadow:0 10px 40px #0000001f;border:1px solid #e2e8f0;overflow:hidden;z-index:1000;animation:dropdownFadeIn .2s ease}@keyframes dropdownFadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8fafc}.dropdown-user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.dropdown-user-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.dropdown-user-email[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#e2e8f0;margin:0}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;font-size:14px;color:#475569;text-decoration:none;transition:all .2s;border:none;background:none;width:100%;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#94a3b8}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1e293b}.dropdown-item[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{color:#6366f1}.dropdown-item.logout[_ngcontent-%COMP%], .dropdown-item.logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#ef4444}.dropdown-item.logout[_ngcontent-%COMP%]:hover{background:#fef2f2}@media (max-width: 768px){.search-box[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:none}.dropdown-menu[_ngcontent-%COMP%]{right:-50px;min-width:260px}}\"]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}